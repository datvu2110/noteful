{"ast":null,"code":"import _regeneratorRuntime from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/beetee/Downloads/noteful/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/beetee/Downloads/noteful/src/AddFolder/AddFolder.js\";\nimport React from 'react';\nimport ApiContext from '../ApiContext';\nimport NotePageNave from '../NotePageMain/NotePageMain';\nimport config from '../config';\nimport PropTypes from 'prop-types';\n\nvar AddFolder =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddFolder, _React$Component);\n\n  function AddFolder() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddFolder);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddFolder)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      name: ''\n    };\n\n    _this.handleAddNote = function () {\n      _this.props.history.push('/');\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var id, folder, res, dataJson;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                id = _this.folderID();\n                folder = {\n                  id: id,\n                  name: _this.state.name\n                };\n                console.log(folder);\n\n                _this.setState({\n                  error: null\n                });\n\n                _context.prev = 5;\n                _context.next = 8;\n                return fetch(\"\".concat(config.API_ENDPOINT, \"/folders\"), {\n                  method: 'POST',\n                  body: JSON.stringify(folder),\n                  headers: {\n                    'content-type': 'application/json'\n                  }\n                });\n\n              case 8:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.json().then(function (e) {\n                  return Promise.reject(e);\n                }));\n\n              case 11:\n                _context.next = 13;\n                return res.json();\n\n              case 13:\n                dataJson = _context.sent;\n\n                _this.context.addFolder(dataJson);\n\n                _this.props.history.push('/');\n\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.setState({\n                  error: _context.t0\n                });\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 18]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(AddFolder, [{\n    key: \"folderID\",\n    value: function folderID() {\n      return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n      ;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Folder Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        placeholder: \"Folder Name\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            name: e.currentTarget.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Submit\"));\n    }\n  }]);\n\n  return AddFolder;\n}(React.Component);\n\nAddFolder.defaultProps = {\n  addFolder: function addFolder() {},\n  history: {\n    goBack: function goBack() {}\n  },\n  match: {\n    params: {}\n  }\n};\nAddFolder.contextType = ApiContext;\nexport { AddFolder as default };\nAddFolder.prototype = {\n  name: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired\n};","map":{"version":3,"sources":["/Users/beetee/Downloads/noteful/src/AddFolder/AddFolder.js"],"names":["React","ApiContext","NotePageNave","config","PropTypes","AddFolder","state","name","handleAddNote","props","history","push","handleSubmit","e","preventDefault","id","folderID","folder","console","log","setState","error","fetch","API_ENDPOINT","method","body","JSON","stringify","headers","res","ok","json","then","Promise","reject","dataJson","context","addFolder","Math","random","toString","substring","currentTarget","value","Component","defaultProps","goBack","match","params","contextType","prototype","string","isRequired","content"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ApiContext from '../ApiContext'\nimport NotePageNave from '../NotePageMain/NotePageMain'\nimport config from '../config'\nimport PropTypes from 'prop-types'\n\n\n\nexport default class AddFolder extends React.Component {\n    state = {\n      name: ''\n    }\n\n    static defaultProps ={\n        addFolder: () => {},\n        history: {\n            goBack: () => { }\n          },\n          match: {\n            params: {}\n          }\n      }\n\n      folderID() {\n         return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);; \n      }\n\n      static contextType = ApiContext;\n\n      handleAddNote = () => {\n        this.props.history.push('/')\n      }\n\n      handleSubmit = async (e) => {\n        e.preventDefault()\n        const id = this.folderID()\n        const folder = {\n          id,\n          name: this.state.name}\n        console.log(folder)\n        this.setState({ error: null })\n\n        try {\n          const res = await fetch(`${config.API_ENDPOINT}/folders`, {\n            method: 'POST',\n            body: JSON.stringify(folder),\n            headers: {\n              'content-type': 'application/json'\n            }\n          })\n          if (!res.ok) {\n            return res.json().then(e => Promise.reject(e))\n          }\n          const dataJson = await res.json()\n          this.context.addFolder(dataJson)\n          this.props.history.push('/')\n        \n        } catch (e) {\n          this.setState({ error: e })\n        }        \n      }\n\n    render() {\n       return(\n        <form onSubmit = {this.handleSubmit}>\n          <label for = \"name\">Folder Name</label>\n          <input \n          type='text'\n          name='name'\n          id='name'\n          placeholder=\"Folder Name\"\n          value={this.state.name}\n          onChange={(e) => this.setState({name: e.currentTarget.value})}\n          required />\n          <br></br>\n          <button type='submit'>Submit</button>\n        </form> \n       ) \n    }\n}\n\nAddFolder.prototype={\n  name: PropTypes.string.isRequired,\n  content:PropTypes.string.isRequired,\n}"]},"metadata":{},"sourceType":"module"}